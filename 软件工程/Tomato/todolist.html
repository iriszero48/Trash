<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="js/mui.min.js"></script>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="css/font-awesome.css">
		<link rel="stylesheet" href="css/calender.css">
		<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init();
		</script>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

	</head>
	<style>
		.mui-content{
		background-color: #FFFFFF;
		
	}
	.mui-bar-nav {
	    box-shadow: 0 1px 6px #ffffff;
	}
	.head{
		box-shadow: 1px 1px 3px #6a6a6a;
	}
	#calicon{
		font-size:24px;
		color:#F58A8A;
		position:absolute;
		right:20px;
		top:3px;
	}
</style>
	<body>
		<nav class="mui-bar mui-bar-tab">
			<a class="mui-tab-item" href="#tabbar">
				<i class="fa fa-check-square" style="font-size:30px;color:#F58A8A"></i>
			</a>
			<a class="mui-tab-item mui-active" href="#tabbar-with-calender">
				<i class="fa fa-calendar-o" style="font-size:30px;color:#CBC9C9"></i>
			</a>
			<a class="mui-tab-item" href="#tabbar-with-check">
				<i class="fa fa-calendar-check-o" style="font-size:30px;color:#CBC9C9"></i>
			</a>
			<a class="mui-tab-item" href="#tabbar-with-perCenter">
				<i class="fa fa-user" style="font-size:30px;color:#CBC9C9"></i>
			</a>
		</nav>
		<header class="mui-bar mui-bar-nav">
			<h3 class="mui-left" style="margin-top: 10;">ToDoList</h3>
			<i id="calicon" class="fa fa-plus" style="margin-top: 10px;"></i>
		</header>
		<style>
			.fkButton {
				border: 0px;
				padding: 0px;
				margin: 0px;
			}
		</style>
		<script>
			let TodoList = [
				{name:'番茄钟UI设计',	time:'今天，12：50-13：30',		fin:false},
				{name:'待办2',      	 	time:'6月10日，12：00-13：00',	fin:false},
				{name:'图像处理',		time:'昨天，10：30-11：50',		fin:true},
			]; //get data from fucking database
			
			let fkButtonSquare = (b) => {
				// You just DO WHAT THE FUCK YOU WANT TO.

				let name = b.parent().contents().text().trim();
				let index = TodoList.findIndex(x => x.name == name);
				TodoList[index].fin = (!TodoList[index].fin);
				UpdateList();
			};
			
			let UpdateList = () => {
				let tl = $('#fkTodoList'), dl = $('#fkDoneList'), tlh = '', dlh = '';
				tl.html('');
				dl.html('');
				TodoList.forEach(x => {
					if(x.fin) {
						dlh += '<div name="fkDoneItem" class="mui-table">' +
							'<div class="mui-table-cell mui-col-xs-10">' +
								'<h4 class="mui-ellipsis" style="margin-left:15px;margin-bottom: 0;"><button class="fkButton" onclick="fkButtonSquare($(this))"><i class="fa fa-check-square"></i></button> ' + x.name + ' </h4>' +
								'<span class="mui-h5" style="font-size:12px;color:#808080;margin-left:37px;"> ' + x.time + ' </span>' +
							'</div>' +
						'</div>';
					} else {
						tlh += '<li class="mui-table-view-cell">' +
					'<div name="fkTodoItem" class="mui-table">' +
						'<div class="mui-table-cell mui-col-xs-10">' +
							'<h4 class="mui-ellipsis"><button class="fkButton" onclick="fkButtonSquare($(this))"><i class="fa fa-square-o"></i></button> ' + x.name + ' </h4>' +
							'<span class="mui-h5" style="font-size:12px;color:#F58A8A;margin-left:20px;"> ' + x.time + ' </span>' +
						'</div>' +
						'<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">' +
							'<span class="mui-h5" style="font-size:20px;color:#F58A8A;">开始</span>' +
						'</button>' +
					'</div>' +
				'</li>';
					}
				});
				tl.html(tlh);
				dl.html(dlh);
			};
			
		</script>
		<div class="mui-content" style="padding-bottom:0;">
			<ul id="fkTodoList" class="mui-table-view" style="margin-top:3px;">
				
				<li class="mui-table-view-cell">
					<div name='fkTodoItem' class="mui-table">
						<div class="mui-table-cell mui-col-xs-10">
							<h4 class="mui-ellipsis"><button class="fkButton" onclick="fkButtonSquare($(this))"><i class="fa fa-square-o"></i></button> 番茄钟UI设计</h4>
							<span class="mui-h5" style="font-size:12px;color:#F58A8A;margin-left:20px;">今天，12：50-13：30</span>
						</div>
						<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">
							<span class="mui-h5" style="font-size:20px;color:#F58A8A;">开始</span>
						</button>
					</div>
				</li>
				
				<li class="mui-table-view-cell">
					<div name='fkTodoItem' class="mui-table">
						<div class="mui-table-cell mui-col-xs-10">
							<h4 class="mui-ellipsis"><i class="fa fa-square-o"></i> 待办2</h4>
							<span class="mui-h5" style="font-size:12px;color:#808080;margin-left:20px;">6月10日，12：00-13：00</span>
						</div>
						<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">
							<span class="mui-h5" style="font-size:20px;color:#F58A8A">开始</span>
						</button>
					</div>
				</li>
				
			</ul>
			</li>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell mui-collapse" style="background-color:#f5dada;">
					<a class="mui-navigate-right" href="#" style="height:18px;padding-top:2;color:#525050">已完成</a>
					<div id="fkDoneList" class="mui-collapse-content">
						
						<div name="fkDoneItem" class="mui-table">
							<div class="mui-table-cell mui-col-xs-10">
								<h4 class="mui-ellipsis" style="margin-left:15px;margin-bottom: 0;"><i class="fa fa-check-square"></i> 图像处理</h4>
								<span class="mui-h5" style="font-size:12px;color:#808080;margin-left:37px;"> 昨天，10：30-11：50</span>
							</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</body>
</html>
